"use strict";(self.webpackChunkmatols_website=self.webpackChunkmatols_website||[]).push([[375],{9375:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var l=t(2907),r=t(3216),a=t(6007),c=t(2129),i=t(1581),n=t(5043),d=t(5624),o=t(7613),x=t(2820),m=t(2780),h=t(579);function u(){const[e,s]=(0,n.useState)(1),[t,u]=(0,n.useState)(!1),{id:p}=(0,r.g)(),y=(0,l.useQueryClient)(),{data:v,error:b,isError:f,isLoading:j}=(0,l.useQuery)({queryKey:["fetch-vehicle-type"],queryFn:()=>(0,a.SH)(p),onSuccess:e=>{s((s=>Number(null===e||void 0===e?void 0:e.vehicle_type).toFixed(1))),console.log(e)}}),{isLoading:g,isSuccess:N,mutateAsync:w,isError:_,error:k}=(0,l.useMutation)("update-vehicle-type",{mutationFn:a.Du,onSuccess:e=>{u((e=>!1)),y.invalidateQueries(["fetch-vehicle-type"])},onMutate:e=>{u((e=>!0))},onError:e=>{u((e=>!1))}});return j?(0,h.jsx)(d.q,{secondary_text:"loading booking vehicle type"}):f?(0,h.jsx)(o.$,{secondaryText:"".concat(b.response.data)}):(0,h.jsxs)("main",{className:"max-w-xl mx-auto p-6 my-6 text-black bg-white",children:[(0,h.jsx)("div",{className:"rounded-lg p-6 shadow-sm border border-gray-200",children:(0,h.jsxs)("h2",{className:"text-start text-black px-2 font-extrabold text-3xl",children:["Update Vehicle Type",(0,h.jsx)("p",{className:"text-sm font-normal text-slate-600 pt-2",children:"Trust matols logistics services to transport your items safely."}),(0,h.jsxs)("p",{className:"text-sm font-bold pt-2",children:["Booking ",p]})]})}),c.rZ.map(((t,l)=>(0,h.jsx)(i._,{vehicle_details:t,onChange:s,value:e},l))),(0,h.jsxs)("div",{className:"mt-4 w-full flex flex-col justify-center items-end",children:[_&&(0,h.jsx)(o.$,{className:"mb-4 w-full",secondaryText:"".concat(k.response.data.message," ").concat(k.message)}),N&&(0,h.jsx)(o.C,{secondaryText:"Vehicle type successfully updated.",className:"mb-4 w-full"}),(0,h.jsx)(x.$,{disabled:t,className:"w-auto",onClick:async()=>{try{await w({vehicle_type:Number(e).toFixed(1),id:null===v||void 0===v?void 0:v.id})}catch(s){}},children:g?(0,h.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,h.jsx)(m.LW,{visible:!0,width:"40",height:"20",color:"#000"})}):"Update"})]})]})}},7613:(e,s,t)=>{t.d(s,{$:()=>c,C:()=>a});t(5043);var l=t(4694),r=t(579);function a(e){let{secondaryText:s,className:t,children:a,...c}=e;return(0,r.jsx)("div",{...c,className:(0,l.cn)("bg-green-100 border-t-4 border-green-500 rounded-b-md text-green-900 px-4 py-2",t),role:"alert",children:(0,r.jsx)("div",{className:"flex text-wrap break-words",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold",children:"Yey ! all set"}),(0,r.jsx)("p",{className:"text-sm text-wrap break-words",children:s||"Welcome to Matols Logistics services"})]})})})}function c(e){let{secondaryText:s,className:t,children:a,...c}=e;return(0,r.jsx)("div",{...c,className:(0,l.cn)("bg-red-100 border-t-4 border-red-500 rounded-b-lg text-red-900 px-4 py-2",t),role:"alert",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold",children:"Oops ! Error"}),(0,r.jsx)("p",{className:"text-sm",children:s||"An error occured"})]})})})}},1581:(e,s,t)=>{t.d(s,{_:()=>a});var l=t(4694),r=t(579);function a(e){let{vehicle_details:s,onChange:t,value:a,...c}=e;const i=()=>t((e=>Number(s.vehicle_type).toFixed(1)));return(0,r.jsx)("div",{className:(0,l.cn)("rounded-lg p-2 shadow-sm border border-gray-200 my-2 text-sm",{"text-base bg-yellow-400 bg-opacity-20":a===Number(s.vehicle_type).toFixed(1)}),onClick:i,children:(0,r.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex justify-start items-start gap-3",children:[(0,r.jsx)("input",{...c,type:"checkbox",id:Number(s.vehicle_type).toFixed(1),value:Number(s.vehicle_type).toFixed(1),checked:a===Number(s.vehicle_type).toFixed(1),onChange:i,className:(0,l.cn)("peer rounded-sm border-gray-300 my-[0.1rem] checked:my-[0.3rem] text-yellow-400 focus:ring-yellow-400 disabled:opacity-50 disabled:pointer-events-none",{})}),(0,r.jsxs)("label",{htmlFor:"termsandprivacy",className:"peer-checked:font-extrabold font-bold peer-checked:text-yellow-500",children:[s.vehicle_type," Ton"," ",(0,r.jsx)("span",{className:"font-normal text-slate-800",children:s.vehicle_description})]})]}),(0,r.jsx)("img",{className:"h-10",src:s.vehicle_type_svg,alt:"{vehicle_details.vehicle_type_svg}"})]})})}},5624:(e,s,t)=>{t.d(s,{q:()=>a});var l=t(2780),r=t(579);function a(e){let{secondary_text:s}=e;return(0,r.jsxs)("div",{className:"m-auto max-w-4xl flex flex-col justify-center items-center py-48 my-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center gap-4",children:[(0,r.jsx)("span",{children:"Please be patient"}),(0,r.jsx)("span",{children:s})]}),(0,r.jsx)(l.LW,{visible:!0,width:"40",height:"20",color:"#000"})]})}}}]);
//# sourceMappingURL=375.60ee3bb6.chunk.js.map
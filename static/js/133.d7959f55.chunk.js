"use strict";(self.webpackChunkmatols_website=self.webpackChunkmatols_website||[]).push([[133],{2133:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var o=t(3216),r=t(5043),a=t(4858),l=t(1899),n=t.n(l),i=t(4694),d=t(6178),c=t.n(d),m=t(2907),x=t(2129),u=t(7613),p=t(2820),y=t(6007),b=t(5624),g=t(2780),h=t(579);function f(){const{id:e}=(0,o.g)(),[s,t]=(0,r.useState)(!1),l=(0,m.useQueryClient)(),{register:d,handleSubmit:f,control:v,setValue:j}=(0,a.mN)({defaultValues:{booking_time:"15:30"}}),{data:w,error:N,isError:_,isLoading:k}=(0,m.useQuery)({queryKey:["fetch-additional-information"],queryFn:()=>(0,y.SH)(e),onSuccess:e=>{j("booking_date",null===e||void 0===e?void 0:e.booking_date),j("booking_time",null===e||void 0===e?void 0:e.booking_time),j("helpers",null===e||void 0===e?void 0:e.helpers),j("floors",null===e||void 0===e?void 0:e.floors),j("payment_option",null===e||void 0===e?void 0:e.payment_option),j("customer_driver_note",null===e||void 0===e?void 0:e.customer_driver_note)}}),{isLoading:C,isSuccess:H,mutateAsync:S,isError:T,error:F}=(0,m.useMutation)("update-additional-information",{mutationFn:y.Du,onSuccess:e=>{t((e=>!1)),l.invalidateQueries(["fetched-booking"])},onMutate:e=>{t((e=>!0))},onError:e=>{t((e=>!1))}});return k?(0,h.jsx)(b.q,{}):_?(0,h.jsx)(u.$,{secondaryText:"".concat(N.response.data)}):(0,h.jsx)("div",{className:"px-2 w-full",children:(0,h.jsxs)("form",{onSubmit:f((async e=>{try{await S({id:w.id,...e})}catch(s){}})),children:[(0,h.jsxs)("div",{className:"custom_datepicker_width my-4 flex flex-col",children:[(0,h.jsx)(a.xI,{control:v,name:"booking_date",render:e=>{let{field:t}=e;return(0,h.jsx)(n(),{className:(0,i.cn)("text-sm w-full rounded-lg text-gray-700 border-gray-200 focus:ring-yellow-400 focus:bg-white focus:border-yellow-400 py-3 px-4 disabled:bg-gray-200 disabled:pointer-events-none disabled:opacity-70"),disabled:s,dateFormat:"yyyy-MMM-dd",timeFormat:"HH:mm",minDate:Date.now(),showPopperArrow:!1,closeOnScroll:!0,selected:t.value,onChange:e=>t.onChange(c()(e).format("yyyy-MM-DD")),onFocus:e=>e.target.readOnly=!0})}}),(0,h.jsx)("span",{className:"text-xs text-gray-400 mt-2",children:"Booking date"})]}),(0,h.jsxs)("div",{className:"custom_datepicker_width my-4 flex flex-col",children:[(0,h.jsx)(a.xI,{control:v,name:"booking_time",render:e=>{let{field:t}=e;return(0,h.jsx)(n(),{timeFormat:"HH:mm",dateFormat:"HH:mm",timeCaption:"Time",disabled:s,className:(0,i.cn)("text-sm rounded-lg w-full  disabled:bg-gray-200 disabled:pointer-events-none disabled:opacity-70 text-gray-700 border-gray-200 focus:ring-yellow-400 focus:bg-white focus:border-yellow-400 py-3 px-4",{}),minDate:Date.now(),timeIntervals:15,showTimeSelect:!0,showTimeSelectOnly:!0,showPopperArrow:!1,selected:new Date(Date.parse("2024-06-05 ".concat(t.value))),onChange:e=>t.onChange(c()(e).format("HH:mm:ss")),onFocus:e=>e.target.readOnly=!0})}}),(0,h.jsx)("span",{className:"text-xs text-gray-400",children:"Booking time"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("select",{...d("helpers",{valueAsNumber:!0}),id:"helpers",name:"helpers",disabled:s,className:"block text-sm appearance-none w-full border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:ring-yellow-400 focus:bg-white focus:border-yellow-400  disabled:bg-gray-200 disabled:pointer-events-none disabled:opacity-70",children:x.Ez.map(((e,s)=>(0,h.jsxs)("option",{value:s+1,children:[s+1," Helpers"]},s+1)))}),(0,h.jsx)("span",{className:"text-xs text-gray-400",children:"Request additional suport"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("select",{...d("floors",{valueAsNumber:!0}),id:"floors",name:"floors",disabled:s,className:"mt-4 block text-sm appearance-none w-full  border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:ring-yellow-400 focus:bg-white focus:border-yellow-400  disabled:bg-gray-200 disabled:pointer-events-none disabled:opacity-70",children:x.Wg.map(((e,s)=>(0,h.jsxs)("option",{value:s+1,children:[s+1," Floors"]},s)))}),(0,h.jsx)("span",{className:"text-xs text-gray-400",children:"Total number of floors to carry up or down in both pick and dropoff locations"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("select",{...d("payment_option"),id:"payment_option",name:"payment_option",disabled:s,className:"mt-4 block text-sm appearance-none w-full border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:ring-yellow-400 focus:bg-white focus:border-yellow-400  disabled:bg-gray-200 disabled:pointer-events-none disabled:opacity-70",children:["EFT","CASH"].map(((e,s)=>(0,h.jsxs)("option",{value:e,children:[e," payment"]},s)))}),(0,h.jsx)("span",{className:"text-xs text-gray-400",children:"Choose your prefared payment option"})]}),(0,h.jsxs)("div",{className:"mt-4",children:[(0,h.jsx)("textarea",{...d("customer_driver_note"),type:"text",rows:3,name:"customer_driver_note",placeholder:"Leave a note for the driver",disabled:s,className:(0,i.cn)("text-sm text-gray-700 w-full rounded-lg border-gray-200 focus:bg-white focus:ring-yellow-400 focus:border-yellow-400 disabled:opacity-50 disabled:pointer-events-none  disabled:bg-gray-200")}),(0,h.jsx)("span",{className:"text-xs text-gray-400",children:"Need to give the driver additional instruction?, leave a note for the driver here."})]}),(0,h.jsxs)("div",{className:"py-4",children:[T&&(0,h.jsx)(u.$,{className:"mb-4",secondaryText:"".concat(F.response.data.message," ").concat(F.message)}),H&&(0,h.jsx)(u.C,{secondaryText:"Additional information successfully updated.",className:"mb-4 w-full"}),(0,h.jsx)("div",{className:"flex flex-row items-center justify-end gap-3",children:(0,h.jsx)(p.$,{disabled:s,className:"w-auto",children:C?(0,h.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,h.jsx)(g.LW,{visible:!0,width:"40",height:"20",color:"#000"})}):"Update"})})]})]})})}function v(){const{id:e}=(0,o.g)();return(0,h.jsx)("main",{className:"max-w-xl mx-auto p-6 my-6 text-black bg-white",children:(0,h.jsxs)("div",{className:"rounded-lg p-6 shadow-sm border border-gray-200",children:[(0,h.jsxs)("h2",{className:"text-start text-black px-2 font-extrabold text-3xl",children:["Update Additional Information",(0,h.jsx)("p",{className:"text-sm font-normal text-slate-600 pt-2",children:"Trust matols logistics services to transport your items safely."}),(0,h.jsxs)("p",{className:"text-sm font-bold pt-2",children:["Booking ",e]})]}),(0,h.jsx)(f,{})]})})}},7613:(e,s,t)=>{t.d(s,{$:()=>l,C:()=>a});t(5043);var o=t(4694),r=t(579);function a(e){let{secondaryText:s,className:t,children:a,...l}=e;return(0,r.jsx)("div",{...l,className:(0,o.cn)("bg-green-100 border-t-4 border-green-500 rounded-b-md text-green-900 px-4 py-2",t),role:"alert",children:(0,r.jsx)("div",{className:"flex text-wrap break-words",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold",children:"Yey ! all set"}),(0,r.jsx)("p",{className:"text-sm text-wrap break-words",children:s||"Welcome to Matols Logistics services"})]})})})}function l(e){let{secondaryText:s,className:t,children:a,...l}=e;return(0,r.jsx)("div",{...l,className:(0,o.cn)("bg-red-100 border-t-4 border-red-500 rounded-b-lg text-red-900 px-4 py-2",t),role:"alert",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold",children:"Oops ! Error"}),(0,r.jsx)("p",{className:"text-sm",children:s||"An error occured"})]})})})}},5624:(e,s,t)=>{t.d(s,{q:()=>a});var o=t(2780),r=t(579);function a(e){let{secondary_text:s}=e;return(0,r.jsxs)("div",{className:"m-auto max-w-4xl flex flex-col justify-center items-center py-48 my-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center gap-4",children:[(0,r.jsx)("span",{children:"Please be patient"}),(0,r.jsx)("span",{children:s})]}),(0,r.jsx)(o.LW,{visible:!0,width:"40",height:"20",color:"#000"})]})}}}]);
//# sourceMappingURL=133.d7959f55.chunk.js.map
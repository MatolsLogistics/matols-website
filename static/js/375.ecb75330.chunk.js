"use strict";(self.webpackChunkmatols_website=self.webpackChunkmatols_website||[]).push([[375],{9375:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var l=t(2907),a=t(3216),r=t(6007),c=t(607),i=t(1581),d=t(5043),n=t(5624),o=t(7613),x=t(2820),m=t(2780),h=t(4732),p=t(579);function u(){const[e,s]=(0,d.useState)(1),[t,u]=(0,d.useState)(!1),{id:y}=(0,a.g)(),v=(0,l.useQueryClient)(),{data:b,error:f,isError:j,isLoading:N}=(0,l.useQuery)({queryKey:["fetch-vehicle-type"],queryFn:()=>(0,r.SH)(y),onSuccess:e=>{s((s=>Number(null===e||void 0===e?void 0:e.vehicle_type).toFixed(1)))}}),{isLoading:g,isSuccess:w,mutateAsync:_,isError:k,error:C}=(0,l.useMutation)("update-vehicle-type",{mutationFn:r.Du,onSuccess:e=>{u((e=>!1)),v.invalidateQueries(["fetch-vehicle-type"])},onMutate:e=>{u((e=>!0))},onError:e=>{u((e=>!1))}});return N?(0,p.jsx)(n.q,{secondary_text:"loading booking vehicle type"}):j?(0,p.jsx)(o.$p,{secondaryText:"".concat(f.response.data)}):(0,p.jsx)(h.q,{children:(0,p.jsxs)("main",{className:"max-w-xl mx-auto p-6 my-6 text-black bg-white",children:[(0,p.jsx)("div",{className:"rounded-md p-6 shadow-sm border border-gray-200",children:(0,p.jsxs)("h2",{className:"text-start text-black px-2 font-extrabold text-3xl",children:["Update Vehicle Type",(0,p.jsx)("p",{className:"text-sm font-normal text-slate-800 pt-2",children:"Trust matols logistics services to transport your items safely."}),(0,p.jsxs)("p",{className:"text-sm font-bold pt-2",children:["Booking ",y]})]})}),c.rZ.map(((t,l)=>(0,p.jsx)(i._,{vehicle_details:t,onChange:s,value:e},l))),(0,p.jsxs)("div",{className:"mt-4 w-full flex flex-col justify-center items-end",children:[k&&(0,p.jsx)(o.$p,{className:"mb-4 w-full",secondaryText:"".concat(C.response.data.message," ").concat(C.message)}),w&&(0,p.jsx)(o.C9,{secondaryText:"Vehicle type successfully updated.",className:"mb-4 w-full"}),(0,p.jsx)(x.$,{disabled:t,className:"w-auto",onClick:async()=>{try{await _({vehicle_type:Number(e).toFixed(1),id:null===b||void 0===b?void 0:b.id})}catch(s){}},children:g?(0,p.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,p.jsx)(m.LW,{visible:!0,width:"40",height:"20",color:"#000"})}):"Update"})]})]})})}},7613:(e,s,t)=>{t.d(s,{$p:()=>i,C9:()=>r,Z0:()=>c});t(5043);var l=t(4694),a=t(579);function r(e){let{secondaryText:s,className:t,children:r,...c}=e;return(0,a.jsx)("div",{...c,className:(0,l.cn)("bg-green-100 border-t-4 border-green-500 rounded-b-md text-green-900 px-4 py-2",t),role:"alert",children:(0,a.jsx)("div",{className:"flex text-wrap break-words",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold",children:"Yey ! all set"}),(0,a.jsx)("p",{className:"text-sm text-wrap break-words",children:s||"Welcome to Matols Logistics services"})]})})})}function c(e){let{primaryText:s,secondaryText:t,className:r,children:c,...i}=e;return(0,a.jsx)("div",{...i,className:(0,l.cn)("bg-blue-100 border-t-4 border-blue-500 rounded-b-md text-blue-700 px-4 py-2",r),role:"alert",children:(0,a.jsx)("div",{className:"flex text-wrap break-words",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold",children:s}),(0,a.jsx)("p",{className:"text-sm text-wrap break-words",children:t||"Welcome to Matols Logistics services"})]})})})}function i(e){let{secondaryText:s,className:t,children:r,...c}=e;return(0,a.jsx)("div",{...c,className:(0,l.cn)("bg-red-100 border-t-4 border-red-500 rounded-b-md text-red-900 px-4 py-2",t),role:"alert",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold",children:"Oops ! Error"}),(0,a.jsx)("p",{className:"text-sm",children:s||"An error occured"})]})})})}},1581:(e,s,t)=>{t.d(s,{_:()=>r});var l=t(4694),a=t(579);function r(e){let{vehicle_details:s,onChange:t,value:r,...c}=e;const i=()=>t((e=>Number(s.vehicle_type).toFixed(1)));return(0,a.jsx)("div",{className:(0,l.cn)("rounded-md p-2 shadow-sm border border-gray-200 my-2 text-xs",{"text-sm bg-yellow-400 bg-opacity-40":r===Number(s.vehicle_type).toFixed(1)}),onClick:i,children:(0,a.jsxs)("div",{className:"flex justify-start items-start gap-3",children:[(0,a.jsx)("input",{...c,type:"checkbox",id:Number(s.vehicle_type).toFixed(1),value:Number(s.vehicle_type).toFixed(1),checked:r===Number(s.vehicle_type).toFixed(1),onChange:i,className:(0,l.cn)("peer rounded-sm border-gray-300 my-[0.1rem] checked:my-[0.3rem] text-yellow-400 focus:ring-yellow-400 disabled:opacity-75 disabled:pointer-events-none",{})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("label",{htmlFor:"termsandprivacy",className:"peer-checked:font-extrabold font-bold peer-checked:text-yellow-500",children:[s.vehicle_type," Ton"," ",(0,a.jsx)("span",{className:"font-normal text-slate-800",children:s.vehicle_description})]}),(0,a.jsxs)("div",{className:"flex flex-row justify-start items-center gap-4",children:[(0,a.jsx)("img",{className:"h-9",src:s.vehicle_type_svg,alt:"{vehicle_details.vehicle_type_svg}"}),(0,a.jsxs)("div",{className:"text-xs",children:[(0,a.jsxs)("p",{className:"font-extrabold text-slate-800",children:["Max weight:"," ",(0,a.jsx)("span",{className:"font-normal",children:s.vehicle_max_weight})]}),(0,a.jsxs)("p",{className:"font-extrabold text-slate-800",children:["Load deck:"," ",(0,a.jsx)("span",{className:"font-normal",children:s.vehicle_load_deck})]})]})]})]})]})})}},4732:(e,s,t)=>{t.d(s,{q:()=>i});var l=t(2122);const a={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}};var r=t(607),c=t(579);function i(e){let{children:s,...t}=e;return(0,c.jsx)(l.P.section,{variants:a,animate:"visible",initial:"hidden",exit:"exit",transition:{duration:r.KD,delay:r.XP},children:s})}},5624:(e,s,t)=>{t.d(s,{q:()=>r});var l=t(2780),a=t(579);function r(e){let{secondary_text:s}=e;return(0,a.jsxs)("div",{className:"m-auto max-w-4xl flex flex-col justify-center items-center py-48 my-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center gap-4",children:[(0,a.jsx)("span",{className:"text-3xl font-bold",children:"Please be patient"}),(0,a.jsx)("span",{className:"text-xl",children:s})]}),(0,a.jsx)(l.LW,{visible:!0,width:"40",height:"20",color:"#000"})]})}}}]);
//# sourceMappingURL=375.ecb75330.chunk.js.map
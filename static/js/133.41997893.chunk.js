"use strict";(self.webpackChunkmatols_website=self.webpackChunkmatols_website||[]).push([[133],{2133:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var r=t(3216),a=t(5043),o=t(4858),l=t(1899),n=t.n(l),i=t(4694),d=t(6178),c=t.n(d),m=t(2907),x=t(607),u=t(7613),p=t(2820),b=t(6007),y=t(5624),h=t(2780),f=(t(3871),t(579));function g(){const{id:e}=(0,r.g)(),[s,t]=(0,a.useState)(!1),l=(0,m.useQueryClient)(),{register:d,handleSubmit:g,control:v,setValue:j}=(0,o.mN)({defaultValues:{booking_time:"15:30"}}),{data:w,error:N,isError:k,isLoading:_}=(0,m.useQuery)({queryKey:["fetch-additional-information"],queryFn:()=>(0,b.SH)(e),onSuccess:e=>{j("booking_date",null===e||void 0===e?void 0:e.booking_date),j("booking_time",null===e||void 0===e?void 0:e.booking_time),j("helpers",null===e||void 0===e?void 0:e.helpers),j("floors",null===e||void 0===e?void 0:e.floors),j("payment_option",null===e||void 0===e?void 0:e.payment_option),j("customer_driver_note",null===e||void 0===e?void 0:e.customer_driver_note)}}),{isLoading:T,isSuccess:C,mutateAsync:H,isError:S,error:D}=(0,m.useMutation)("update-additional-information",{mutationFn:b.Du,onSuccess:e=>{t((e=>!1)),l.invalidateQueries(["fetched-booking"])},onMutate:e=>{t((e=>!0))},onError:e=>{t((e=>!1))}});return _?(0,f.jsx)(y.q,{}):k?(0,f.jsx)(u.$p,{secondaryText:"".concat(N.response.data)}):(0,f.jsx)("div",{className:"px-2 w-full",children:(0,f.jsxs)("form",{onSubmit:g((async e=>{try{await H({id:w.id,...e})}catch(s){}})),children:[(0,f.jsxs)("div",{className:"custom_datepicker_width my-4 flex flex-col",children:[(0,f.jsx)(o.xI,{control:v,name:"booking_date",render:e=>{let{field:t}=e;return(0,f.jsx)(n(),{className:(0,i.cn)("text-sm w-full rounded-md text-gray-700 border-gray-200 focus:ring-yellow-400 focus:bg-white focus:border-yellow-400 py-3 px-4 disabled:bg-gray-200 disabled:pointer-events-none disabled:opacity-75"),disabled:s,dateFormat:"yyyy-MMM-dd",timeFormat:"HH:mm",minDate:Date.now(),showPopperArrow:!1,closeOnScroll:!0,selected:t.value,onChange:e=>t.onChange(c()(e).format("yyyy-MM-DD")),onFocus:e=>e.target.readOnly=!0})}}),(0,f.jsx)("span",{className:"text-xs text-gray-400 mt-2",children:"Booking date"})]}),(0,f.jsxs)("div",{className:"custom_datepicker_width my-4 flex flex-col",children:[(0,f.jsx)(o.xI,{control:v,name:"booking_time",render:e=>{let{field:t}=e;return(0,f.jsx)(n(),{timeFormat:"HH:mm",dateFormat:"HH:mm",timeCaption:"Time",disabled:s,className:(0,i.cn)("text-sm rounded-md w-full  disabled:bg-gray-200 disabled:pointer-events-none disabled:opacity-75 text-gray-700 border-gray-200 focus:ring-yellow-400 focus:bg-white focus:border-yellow-400 py-3 px-4",{}),minDate:Date.now(),timeIntervals:15,showTimeSelect:!0,showTimeSelectOnly:!0,showPopperArrow:!1,selected:new Date(Date.parse("2024-06-05 ".concat(t.value))),onChange:e=>t.onChange(c()(e).format("HH:mm:ss")),onFocus:e=>e.target.readOnly=!0})}}),(0,f.jsx)("span",{className:"text-xs text-gray-400",children:"Booking time"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("select",{...d("helpers",{valueAsNumber:!0}),id:"helpers",name:"helpers",disabled:s,className:"block text-sm appearance-none w-full border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded-md leading-tight focus:outline-none focus:ring-yellow-400 focus:bg-white focus:border-yellow-400  disabled:bg-gray-200 disabled:pointer-events-none disabled:opacity-75",children:x.Ez.map(((e,s)=>(0,f.jsxs)("option",{value:s+1,children:[s+1," Helpers"]},s+1)))}),(0,f.jsx)("span",{className:"text-xs text-gray-400",children:"Request additional suport"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("select",{...d("floors",{valueAsNumber:!0}),id:"floors",name:"floors",disabled:s,className:"mt-4 block text-sm appearance-none w-full  border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded-md leading-tight focus:outline-none focus:ring-yellow-400 focus:bg-white focus:border-yellow-400  disabled:bg-gray-200 disabled:pointer-events-none disabled:opacity-75",children:x.Wg.map(((e,s)=>(0,f.jsxs)("option",{value:s+1,children:[s+1," Floors"]},s)))}),(0,f.jsx)("span",{className:"text-xs text-gray-400",children:"Total number of floors to carry up or down in both pick and dropoff locations"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("select",{...d("payment_option"),id:"payment_option",name:"payment_option",disabled:s,className:"mt-4 block text-sm appearance-none w-full border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded-md leading-tight focus:outline-none focus:ring-yellow-400 focus:bg-white focus:border-yellow-400  disabled:bg-gray-200 disabled:pointer-events-none disabled:opacity-75",children:["EFT","CASH"].map(((e,s)=>(0,f.jsxs)("option",{value:e,children:[e," payment"]},s)))}),(0,f.jsx)("span",{className:"text-xs text-gray-400",children:"Choose your prefared payment option"})]}),(0,f.jsxs)("div",{className:"mt-4",children:[(0,f.jsx)("textarea",{...d("customer_driver_note"),type:"text",rows:3,name:"customer_driver_note",placeholder:"Leave a note for the driver",disabled:s,className:(0,i.cn)("text-sm text-gray-700 w-full rounded-md border-gray-200 focus:bg-white focus:ring-yellow-400 focus:border-yellow-400 disabled:opacity-75 disabled:pointer-events-none  disabled:bg-gray-200")}),(0,f.jsx)("span",{className:"text-xs text-gray-400",children:"Need to give the driver additional instruction?, leave a note for the driver here."})]}),(0,f.jsxs)("div",{className:"py-4",children:[S&&(0,f.jsx)(u.$p,{className:"mb-4",secondaryText:"".concat(D.response.data.message," ").concat(D.message)}),C&&(0,f.jsx)(u.C9,{secondaryText:"Additional information successfully updated.",className:"mb-4 w-full"}),(0,f.jsx)("div",{className:"flex flex-row items-center justify-end gap-3",children:(0,f.jsx)(p.$,{disabled:s,className:"w-auto",children:T?(0,f.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,f.jsx)(h.LW,{visible:!0,width:"40",height:"20",color:"#000"})}):"Update"})})]})]})})}var v=t(4732);function j(){const{id:e}=(0,r.g)();return(0,f.jsx)(v.q,{children:(0,f.jsx)("main",{className:"max-w-xl mx-auto p-6 my-6 text-black bg-white",children:(0,f.jsxs)("div",{className:"rounded-md p-6 shadow-sm border border-gray-200",children:[(0,f.jsxs)("h2",{className:"text-start text-black px-2 font-extrabold text-3xl",children:["Update Additional Information",(0,f.jsx)("p",{className:"text-sm font-normal text-slate-800 pt-2",children:"Trust matols logistics services to transport your items safely."}),(0,f.jsxs)("p",{className:"text-sm font-bold pt-2",children:["Booking ",e]})]}),(0,f.jsx)(g,{})]})})})}},7613:(e,s,t)=>{t.d(s,{$p:()=>n,C9:()=>o,Z0:()=>l});t(5043);var r=t(4694),a=t(579);function o(e){let{secondaryText:s,className:t,children:o,...l}=e;return(0,a.jsx)("div",{...l,className:(0,r.cn)("bg-green-100 border-t-4 border-green-500 rounded-b-md text-green-900 px-4 py-2",t),role:"alert",children:(0,a.jsx)("div",{className:"flex text-wrap break-words",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold",children:"Yey ! all set"}),(0,a.jsx)("p",{className:"text-sm text-wrap break-words",children:s||"Welcome to Matols Logistics services"})]})})})}function l(e){let{primaryText:s,secondaryText:t,className:o,children:l,...n}=e;return(0,a.jsx)("div",{...n,className:(0,r.cn)("bg-blue-100 border-t-4 border-blue-500 rounded-b-md text-blue-700 px-4 py-2",o),role:"alert",children:(0,a.jsx)("div",{className:"flex text-wrap break-words",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold",children:s}),(0,a.jsx)("p",{className:"text-sm text-wrap break-words",children:t||"Welcome to Matols Logistics services"})]})})})}function n(e){let{secondaryText:s,className:t,children:o,...l}=e;return(0,a.jsx)("div",{...l,className:(0,r.cn)("bg-red-100 border-t-4 border-red-500 rounded-b-md text-red-900 px-4 py-2",t),role:"alert",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold",children:"Oops ! Error"}),(0,a.jsx)("p",{className:"text-sm",children:s||"An error occured"})]})})})}},4732:(e,s,t)=>{t.d(s,{q:()=>n});var r=t(2122);const a={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}};var o=t(607),l=t(579);function n(e){let{children:s,...t}=e;return(0,l.jsx)(r.P.section,{variants:a,animate:"visible",initial:"hidden",exit:"exit",transition:{duration:o.KD,delay:o.XP},children:s})}},5624:(e,s,t)=>{t.d(s,{q:()=>o});var r=t(2780),a=t(579);function o(e){let{secondary_text:s}=e;return(0,a.jsxs)("div",{className:"m-auto max-w-4xl flex flex-col justify-center items-center py-48 my-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center gap-4",children:[(0,a.jsx)("span",{className:"text-3xl font-bold",children:"Please be patient"}),(0,a.jsx)("span",{className:"text-xl",children:s})]}),(0,a.jsx)(r.LW,{visible:!0,width:"40",height:"20",color:"#000"})]})}},3871:()=>{}}]);
//# sourceMappingURL=133.41997893.chunk.js.map
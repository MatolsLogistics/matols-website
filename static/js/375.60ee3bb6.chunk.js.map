{"version":3,"file":"static/js/375.60ee3bb6.chunk.js","mappings":"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","sources":["components/pages/update_vehicle_type.jsx","components/reusable_components/alerts/alerts.jsx","components/reusable_components/create_booking/choose_vehicle_type_card.jsx","components/reusable_components/loading-content.jsx"],"sourcesContent":["import { useMutation, useQuery, useQueryClient } from \"react-query\";\r\nimport { useParams } from \"react-router\";\r\nimport { fetchBookingFunction, updateBookingFunction } from \"../../api/api\";\r\nimport { VEHICLE_TYPES } from \"../../utils/information\";\r\nimport { ChooseVehicleTypeCard } from \"../reusable_components/create_booking/choose_vehicle_type_card\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { LoadingComponent } from \"../reusable_components/loading-content\";\r\nimport { ErrorAlert, SuccessAlert } from \"../reusable_components/alerts/alerts\";\r\nimport { Button } from \"../reusable_components/custom_button\";\r\nimport { ThreeDots } from \"react-loader-spinner\";\r\n\r\nexport default function UpdateVehicleType() {\r\n  const [choosenVehicleType, setChoosenVehicleType] = useState(1);\r\n  const [disableUserInterface, setDisableUserInterface] = useState(false);\r\n  const { id } = useParams();\r\n  const queryClient = useQueryClient();\r\n\r\n  const {\r\n    data: booking,\r\n    error: bookingErrors,\r\n    isError: isBookingError,\r\n    isLoading: isBookingLoading,\r\n    // isSuccess: isBookingSuccess,\r\n  } = useQuery({\r\n    queryKey: [\"fetch-vehicle-type\"],\r\n    queryFn: () => fetchBookingFunction(id),\r\n    onSuccess: (data) => {\r\n      setChoosenVehicleType((r) => Number(data?.vehicle_type).toFixed(1));\r\n      console.log(data);\r\n    },\r\n  });\r\n\r\n  const {\r\n    isLoading: isUpdateLoading,\r\n    isSuccess: isUpdateSucces,\r\n    mutateAsync: upadateBookingAsync,\r\n    isError: isUpdateError,\r\n    error: updateError,\r\n  } = useMutation(\"update-vehicle-type\", {\r\n    mutationFn: updateBookingFunction,\r\n    onSuccess: (event) => {\r\n      setDisableUserInterface((s) => false);\r\n      queryClient.invalidateQueries([\"fetch-vehicle-type\"]);\r\n    },\r\n    onMutate: (event) => {\r\n      setDisableUserInterface((l) => true);\r\n    },\r\n    onError: (event) => {\r\n      setDisableUserInterface((e) => false);\r\n    },\r\n  });\r\n  const handleUpdate = async () => {\r\n    try {\r\n      await upadateBookingAsync({\r\n        vehicle_type: Number(choosenVehicleType).toFixed(1),\r\n        id: booking?.id,\r\n      });\r\n    } catch (error) {}\r\n  };\r\n\r\n  if (isBookingLoading) {\r\n    return <LoadingComponent secondary_text={\"loading booking vehicle type\"} />;\r\n  }\r\n\r\n  if (isBookingError) {\r\n    return <ErrorAlert secondaryText={`${bookingErrors.response.data}`} />;\r\n  }\r\n\r\n  return (\r\n    <main className=\"max-w-xl mx-auto p-6 my-6 text-black bg-white\">\r\n      <div className=\"rounded-lg p-6 shadow-sm border border-gray-200\">\r\n        <h2 className=\"text-start text-black px-2 font-extrabold text-3xl\">\r\n          Update Vehicle Type\r\n          <p className=\"text-sm font-normal text-slate-600 pt-2\">\r\n            Trust matols logistics services to transport your items safely.\r\n          </p>\r\n          <p className=\"text-sm font-bold pt-2\">Booking {id}</p>\r\n        </h2>\r\n      </div>\r\n\r\n      {VEHICLE_TYPES.map((vehicle_detail, key) => (\r\n        <ChooseVehicleTypeCard\r\n          key={key}\r\n          vehicle_details={vehicle_detail}\r\n          onChange={setChoosenVehicleType}\r\n          value={choosenVehicleType}\r\n        />\r\n      ))}\r\n\r\n      <div className=\"mt-4 w-full flex flex-col justify-center items-end\">\r\n        {isUpdateError && (\r\n          <ErrorAlert\r\n            className=\"mb-4 w-full\"\r\n            secondaryText={`${updateError.response.data.message} ${updateError.message}`}\r\n          />\r\n        )}\r\n        {isUpdateSucces && (\r\n          <SuccessAlert\r\n            secondaryText={`Vehicle type successfully updated.`}\r\n            className=\"mb-4 w-full\"\r\n          />\r\n        )}\r\n        <Button\r\n          disabled={disableUserInterface}\r\n          className=\"w-auto\"\r\n          onClick={handleUpdate}\r\n        >\r\n          {isUpdateLoading ? (\r\n            <div className=\"w-full h-full flex justify-center items-center\">\r\n              <ThreeDots visible width=\"40\" height=\"20\" color=\"#000\" />\r\n            </div>\r\n          ) : (\r\n            \"Update\"\r\n          )}\r\n        </Button>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { cn } from \"../../../utils/custom_functions\";\r\n\r\n//\r\nexport function SuccessAlert({ secondaryText, className, children, ...props }) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={cn(\r\n        \"bg-green-100 border-t-4 border-green-500 rounded-b-md text-green-900 px-4 py-2\",\r\n        className\r\n      )}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex text-wrap break-words\">\r\n        <div>\r\n          <p className=\"font-bold\">Yey ! all set</p>\r\n          <p className=\"text-sm text-wrap break-words\">\r\n            {secondaryText\r\n              ? secondaryText\r\n              : \"Welcome to Matols Logistics services\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ErrorAlert({ secondaryText, className, children, ...props }) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={cn(\r\n        \"bg-red-100 border-t-4 border-red-500 rounded-b-lg text-red-900 px-4 py-2\",\r\n        className\r\n      )}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex\">\r\n        <div>\r\n          <p className=\"font-bold\">Oops ! Error</p>\r\n          <p className=\"text-sm\">\r\n            {secondaryText ? secondaryText : \"An error occured\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { cn } from \"../../../utils/custom_functions\";\r\n\r\nexport function ChooseVehicleTypeCard({\r\n  vehicle_details,\r\n  onChange,\r\n  value,\r\n  ...props\r\n}) {\r\n  const onClick = () =>\r\n    onChange((r) => Number(vehicle_details.vehicle_type).toFixed(1));\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"rounded-lg p-2 shadow-sm border border-gray-200 my-2 text-sm\",\r\n        {\r\n          \"text-base bg-yellow-400 bg-opacity-20\":\r\n            value === Number(vehicle_details.vehicle_type).toFixed(1),\r\n        }\r\n      )}\r\n      onClick={onClick}\r\n    >\r\n      <div className=\"flex flex-col-reverse sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n        <div className=\"flex justify-start items-start gap-3\">\r\n          <input\r\n            {...props}\r\n            type=\"checkbox\"\r\n            id={Number(vehicle_details.vehicle_type).toFixed(1)}\r\n            value={Number(vehicle_details.vehicle_type).toFixed(1)}\r\n            checked={value === Number(vehicle_details.vehicle_type).toFixed(1)}\r\n            onChange={onClick}\r\n            className={cn(\r\n              \"peer rounded-sm border-gray-300 my-[0.1rem] checked:my-[0.3rem] text-yellow-400 focus:ring-yellow-400 disabled:opacity-50 disabled:pointer-events-none\",\r\n              {}\r\n            )}\r\n          />\r\n          <label\r\n            htmlFor=\"termsandprivacy\"\r\n            className=\"peer-checked:font-extrabold font-bold peer-checked:text-yellow-500\"\r\n          >\r\n            {vehicle_details.vehicle_type} Ton{\" \"}\r\n            <span className=\"font-normal text-slate-800\">\r\n              {vehicle_details.vehicle_description}\r\n            </span>\r\n          </label>\r\n        </div>\r\n        <img\r\n          className=\"h-10\"\r\n          src={vehicle_details.vehicle_type_svg}\r\n          alt=\"{vehicle_details.vehicle_type_svg}\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { ThreeDots } from \"react-loader-spinner\";\r\n\r\nexport function LoadingComponent({ secondary_text }) {\r\n  return (\r\n    <div className=\"m-auto max-w-4xl flex flex-col justify-center items-center py-48 my-2 gap-4\">\r\n      <div className=\"flex flex-col justify-center items-center gap-4\">\r\n        <span>Please be patient</span>\r\n        <span>{secondary_text}</span>\r\n      </div>\r\n      <ThreeDots visible width=\"40\" height=\"20\" color=\"#000\" />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["UpdateVehicleType","choosenVehicleType","setChoosenVehicleType","useState","disableUserInterface","setDisableUserInterface","id","useParams","queryClient","useQueryClient","data","booking","error","bookingErrors","isError","isBookingError","isLoading","isBookingLoading","useQuery","queryKey","queryFn","fetchBookingFunction","onSuccess","r","Number","vehicle_type","toFixed","console","log","isUpdateLoading","isSuccess","isUpdateSucces","mutateAsync","upadateBookingAsync","isUpdateError","updateError","useMutation","mutationFn","updateBookingFunction","event","s","invalidateQueries","onMutate","l","onError","e","_jsx","LoadingComponent","secondary_text","ErrorAlert","secondaryText","concat","response","_jsxs","className","children","VEHICLE_TYPES","map","vehicle_detail","key","ChooseVehicleTypeCard","vehicle_details","onChange","value","message","SuccessAlert","Button","disabled","onClick","async","ThreeDots","visible","width","height","color","_ref","props","cn","role","_ref2","type","checked","htmlFor","vehicle_description","src","vehicle_type_svg","alt"],"sourceRoot":""}
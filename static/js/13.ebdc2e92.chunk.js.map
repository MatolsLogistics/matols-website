{"version":3,"file":"static/js/13.ebdc2e92.chunk.js","mappings":"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","sources":["components/pages/profile.jsx","components/reusable_components/alerts/alerts.jsx","components/reusable_components/loading-content.jsx"],"sourcesContent":["import { useForm } from \"react-hook-form\";\r\nimport { cn } from \"../../utils/custom_functions\";\r\nimport { Button } from \"../reusable_components/custom_button\";\r\nimport { useState } from \"react\";\r\nimport { useQuery, useMutation, useQueryClient } from \"react-query\";\r\nimport { fetchUserProfile, updateUserProfile } from \"../../api/api\";\r\nimport { ThreeDots } from \"react-loader-spinner\";\r\nimport { LoadingComponent } from \"../reusable_components/loading-content\";\r\nimport { ErrorAlert, SuccessAlert } from \"../reusable_components/alerts/alerts\";\r\n\r\nexport default function Profile() {\r\n  //\r\n  const queryClient = useQueryClient();\r\n  const [disableUserInterface, setDisableUserInterface] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { isLoading: isFormLoading, errors },\r\n  } = useForm();\r\n\r\n  const { data, error, isError, isLoading } = useQuery({\r\n    queryKey: [\"user-profile\"],\r\n    queryFn: fetchUserProfile,\r\n  });\r\n\r\n  const {\r\n    isLoading: isRequestLoading,\r\n    isSuccess: isSuccessUpdate,\r\n    mutateAsync: updateProfileAsync,\r\n    isError: isErrorUpdate,\r\n    error: errorUpdate,\r\n  } = useMutation(\"update-profile\", {\r\n    mutationFn: updateUserProfile,\r\n    onSuccess: (_) => {\r\n      queryClient.invalidateQueries([\"user-profile\"]);\r\n      setDisableUserInterface((p) => false);\r\n    },\r\n    onError: (_) => setDisableUserInterface((p) => false),\r\n    onMutate: (_) => setDisableUserInterface((p) => true),\r\n  });\r\n\r\n  //handle submit\r\n  const onSubmit = async (data) => {\r\n    // updateProfileAsync\r\n    try {\r\n      await updateProfileAsync(data);\r\n    } catch (error) {}\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <LoadingComponent secondary_text={\"Loading Profile\"} />;\r\n  }\r\n  if (isError) {\r\n    return <ErrorAlert secondaryText={`${error.response.data}`} />;\r\n  }\r\n\r\n  return (\r\n    <main className=\"max-w-xl mx-auto p-6 my-6 text-black bg-white\">\r\n      <div className=\"rounded-lg p-6 shadow-sm border border-gray-200\">\r\n        <h2 className=\"text-start text-black pb-6 px-2 font-extrabold text-3xl\">\r\n          Your profile\r\n          <p className=\"text-sm font-normal text-slate-600 pt-2\">\r\n            Thank you for trusting Matols Logistic Services with your personal\r\n            information.\r\n          </p>\r\n        </h2>\r\n\r\n        <form className=\"px-2\" onSubmit={handleSubmit(onSubmit)}>\r\n          <div className=\"rounded-lg shadow-sm\">\r\n            <div className=\"mb-6\">\r\n              <input\r\n                disabled\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"matols@gmail.com\"\r\n                value={data?.email}\r\n                className={cn(\r\n                  \"text-sm text-slate-800 mb-2 w-full relative shadow-sm block rounded-lg border-gray-200 focus:z-10 focus:ring-yellow-400 focus:border-yellow-400 disabled:opacity-50 disabled:pointer-events-none\"\r\n                )}\r\n              />\r\n              <p className=\"text-gray-600 text-xs\">\r\n                To change your email please contact{\" \"}\r\n                <span className=\"text-yellow-400 font-bold\">Admin</span>.\r\n              </p>\r\n            </div>\r\n            <input\r\n              {...register(\"user_first_name\", {\r\n                required: \"User name required\",\r\n                disabled: disableUserInterface,\r\n                value: data?.user_first_name,\r\n              })}\r\n              id=\"user_first_name\"\r\n              type=\"text\"\r\n              name=\"user_first_name\"\r\n              placeholder=\"Enter username\"\r\n              className={cn(\r\n                \"text-sm text-slate-800  w-full relative shadow-sm block rounded-t-lg border-gray-200 focus:z-10 focus:ring-yellow-400 focus:border-yellow-400 disabled:opacity-50 disabled:pointer-events-none\",\r\n                {\r\n                  \"placeholder:text-red-500\": errors.user_first_name,\r\n                }\r\n              )}\r\n            />\r\n            <input\r\n              {...register(\"user_surname\", {\r\n                required: \"User surname required\",\r\n                value: data?.user_surname,\r\n                disabled: disableUserInterface,\r\n              })}\r\n              type=\"text\"\r\n              name=\"user_surname\"\r\n              // placeholder=\"Enter surname\"\r\n              placeholder=\"Enter surname\"\r\n              autoComplete=\"new-off\"\r\n              className={cn(\r\n                \"text-sm text-slate-800  w-full relative shadow-sm block border-gray-200 focus:z-10 focus:ring-yellow-400 focus:border-yellow-400 disabled:opacity-50 disabled:pointer-events-none\",\r\n                {\r\n                  \"placeholder:text-red-500 \": errors.user_surname,\r\n                }\r\n              )}\r\n            />\r\n            <input\r\n              {...register(\"user_contact_number\", {\r\n                required: \"User contact number required\",\r\n                value: data?.user_contact_number,\r\n                disabled: disableUserInterface,\r\n                maxLength: {\r\n                  value: 10,\r\n                  message: \"Phone number cannot be more than 10 digits\",\r\n                },\r\n                minLength: {\r\n                  value: 10,\r\n                  message: \"Phone number cannot be less than 10 digits\",\r\n                },\r\n              })}\r\n              type=\"tel\"\r\n              id=\"user_contact_number\"\r\n              name=\"user_contact_number\"\r\n              placeholder=\"Enter contact number\"\r\n              className={cn(\r\n                \"text-sm pe-9 text-slate-800 w-full shadow-sm relative block rounded-b-lg border-gray-200 focus:z-10 focus:ring-yellow-400 focus:border-yellow-400 disabled:opacity-50 disabled:pointer-events-none mb-4\",\r\n                {\r\n                  \"placeholder:text-red-500\": errors.user_contact_number,\r\n                }\r\n              )}\r\n            />\r\n            <div className=\"mt-2\">\r\n              {[\r\n                errors.user_first_name,\r\n                errors.user_surname,\r\n                errors.user_contact_number,\r\n              ].map((error, index) => {\r\n                if (error) {\r\n                  return (\r\n                    <p className=\" text-red-500 text-sm italic\">\r\n                      {error.message}\r\n                    </p>\r\n                  );\r\n                }\r\n              })}\r\n            </div>\r\n            {isErrorUpdate && (\r\n              <ErrorAlert\r\n                secondaryText={`${errorUpdate.response.data.message} ${error.message}`}\r\n              />\r\n            )}\r\n            {isSuccessUpdate && (\r\n              <SuccessAlert secondaryText={`Profile successfully updated`} />\r\n            )}\r\n            <div className=\"mt-2\">\r\n              <Button\r\n                className=\"rounded-lg text-sm shadow-sm\"\r\n                disabled={disableUserInterface}\r\n                type=\"submit\"\r\n              >\r\n                {isRequestLoading || isFormLoading ? (\r\n                  <div className=\"w-full h-full flex justify-center items-center\">\r\n                    <ThreeDots visible width=\"40\" height=\"20\" color=\"#000\" />\r\n                  </div>\r\n                ) : (\r\n                  \"Update profile\"\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { cn } from \"../../../utils/custom_functions\";\r\n\r\n//\r\nexport function SuccessAlert({ secondaryText, className, children, ...props }) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={cn(\r\n        \"bg-green-100 border-t-4 border-green-500 rounded-b-md text-green-900 px-4 py-2\",\r\n        className\r\n      )}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex text-wrap break-words\">\r\n        <div>\r\n          <p className=\"font-bold\">Yey ! all set</p>\r\n          <p className=\"text-sm text-wrap break-words\">\r\n            {secondaryText\r\n              ? secondaryText\r\n              : \"Welcome to Matols Logistics services\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ErrorAlert({ secondaryText, className, children, ...props }) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={cn(\r\n        \"bg-red-100 border-t-4 border-red-500 rounded-b-lg text-red-900 px-4 py-2\",\r\n        className\r\n      )}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex\">\r\n        <div>\r\n          <p className=\"font-bold\">Oops ! Error</p>\r\n          <p className=\"text-sm\">\r\n            {secondaryText ? secondaryText : \"An error occured\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { ThreeDots } from \"react-loader-spinner\";\r\n\r\nexport function LoadingComponent({ secondary_text }) {\r\n  return (\r\n    <div className=\"m-auto max-w-4xl flex flex-col justify-center items-center py-48 my-2 gap-4\">\r\n      <div className=\"flex flex-col justify-center items-center gap-4\">\r\n        <span>Please be patient</span>\r\n        <span>{secondary_text}</span>\r\n      </div>\r\n      <ThreeDots visible width=\"40\" height=\"20\" color=\"#000\" />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Profile","queryClient","useQueryClient","disableUserInterface","setDisableUserInterface","useState","register","handleSubmit","formState","isLoading","isFormLoading","errors","useForm","data","error","isError","useQuery","queryKey","queryFn","fetchUserProfile","isRequestLoading","isSuccess","isSuccessUpdate","mutateAsync","updateProfileAsync","isErrorUpdate","errorUpdate","useMutation","mutationFn","updateUserProfile","onSuccess","_","invalidateQueries","p","onError","onMutate","_jsx","LoadingComponent","secondary_text","ErrorAlert","secondaryText","concat","response","className","children","_jsxs","onSubmit","async","disabled","type","name","placeholder","value","email","cn","required","user_first_name","id","user_surname","autoComplete","user_contact_number","maxLength","message","minLength","map","index","SuccessAlert","Button","ThreeDots","visible","width","height","color","_ref","props","role","_ref2"],"sourceRoot":""}
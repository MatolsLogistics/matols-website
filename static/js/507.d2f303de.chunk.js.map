{"version":3,"file":"static/js/507.d2f303de.chunk.js","mappings":"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","sources":["components/pages/book_booking.jsx","components/reusable_components/alerts/alerts.jsx","components/reusable_components/booking_content/pickup_dropoff_content.jsx","utils/formaters.jsx","components/reusable_components/booking_content/booking_details_content.jsx","components/reusable_components/booking_card.jsx","utils/animation_variants.jsx","components/reusable_components/load_page_animation.jsx","components/reusable_components/loading-content.jsx","utils/hooks/use_local_storage_createbooking.jsx","utils/hooks/use_time_out.jsx"],"sourcesContent":["import { useMutation } from \"react-query\";\r\nimport { computeQuoteFunction, createBookingFunction } from \"../../api/api\";\r\nimport { useCreateBookingLocalStorage } from \"../../utils/hooks/use_local_storage_createbooking\";\r\nimport { LOCAL_STORAGE_KEYS } from \"../../utils/local_storage_keys\";\r\nimport { ErrorAlert, SuccessAlert } from \"../reusable_components/alerts/alerts\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { LoadingComponent } from \"../reusable_components/loading-content\";\r\nimport { BookingCard } from \"../reusable_components/booking_card\";\r\nimport { Button } from \"../reusable_components/custom_button\";\r\nimport { ThreeDots } from \"react-loader-spinner\";\r\nimport { ROUTE_LINKS } from \"../../utils/route_links\";\r\nimport { useTimeout } from \"../../utils/hooks/use_time_out\";\r\n// import { useIsSignedIn } from \"../../utils/hooks/use_is_signed_in\";\r\nimport { LoadPageAnimation } from \"../reusable_components/load_page_animation\";\r\n\r\nexport default function CreateBooking() {\r\n  // const { isSignedIn, isStaff } = useIsSignedIn();\r\n  const [receivedError401, setReceivedError401] = useState(false);\r\n  const { set } = useTimeout(\r\n    () => (window.location.href = ROUTE_LINKS.bookings),\r\n    5000 // mili\r\n  );\r\n  const { _, getCreateBookingObj } = useCreateBookingLocalStorage(\r\n    LOCAL_STORAGE_KEYS.create_booking\r\n  );\r\n\r\n  const {\r\n    isLoading: isBookingBookLoading,\r\n    isSuccess: isBookingBookSuccess,\r\n    mutateAsync: bookingBookAsync,\r\n    isError: isBookingBookError,\r\n    error: bookingBookError,\r\n  } = useMutation({\r\n    mutationKey: \"book-booking\",\r\n    mutationFn: createBookingFunction,\r\n    onError: (e) => {\r\n      console.log(e, \"Focus here\");\r\n      setReceivedError401(e.response.status === 401);\r\n    },\r\n    onSuccess: (s) => {\r\n      set();\r\n    },\r\n  });\r\n  const {\r\n    data: quote,\r\n    isLoading: isComputingQuote,\r\n    mutate: computingQuote,\r\n    isError: isComputingQuoteError,\r\n    error: computingQuoteError,\r\n  } = useMutation({\r\n    mutationKey: \"compute-quote\",\r\n    mutationFn: computeQuoteFunction,\r\n    // onSuccess: (data) => {\r\n    //   console.log(getHtml(data));\r\n    // },\r\n  });\r\n\r\n  useEffect(() => {\r\n    const localBooking = getCreateBookingObj();\r\n    if (localBooking) computingQuote(localBooking);\r\n  }, []);\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const booking = getCreateBookingObj();\r\n      if (booking) {\r\n        await bookingBookAsync(booking);\r\n      }\r\n    } catch (error) {}\r\n  };\r\n\r\n  if (isComputingQuoteError) {\r\n    return (\r\n      <ErrorAlert secondaryText={`${computingQuoteError.response.data}`} />\r\n    );\r\n  }\r\n  if (isComputingQuote) {\r\n    return <LoadingComponent secondary_text={\"Loading Quote\"} />;\r\n  }\r\n\r\n  return (\r\n    <LoadPageAnimation>\r\n      <main className=\"max-w-xl mx-auto my-4 p-6 text-black bg-white\">\r\n        <h2 className=\"text-start text-black pb-6 font-extrabold text-3xl\">\r\n          Complete your booking\r\n          <p className=\"text-sm font-normal text-slate-600 pt-2\">\r\n            Thank you for choosing Matols logistics services as your go to\r\n            service provider.\r\n          </p>\r\n        </h2>\r\n        {/*\r\n         */}\r\n        <BookingCard booking={quote} />\r\n\r\n        <div className=\"flex flex-col gap-4 justify-end items-end\">\r\n          {receivedError401 && (\r\n            <div\r\n              className=\"border-t-4 border-blue-600 bg-blue-200 px-4\r\n          py-2 w-full flex flex-col rounded-b-md\"\r\n            >\r\n              <p className=\"font-bold\">Info ! Error 401</p>\r\n              <p className=\"text-sm\">\r\n                To complete a booking with Matols Logistics Services you need to\r\n                be signed in. Navigate to the sign in page and sign in, other\r\n                wise complete the registration process and continue making your\r\n                booking.\r\n              </p>\r\n            </div>\r\n          )}\r\n          {isBookingBookError && (\r\n            <ErrorAlert\r\n              className=\"w-full\"\r\n              secondaryText={`${bookingBookError.response.data.message} ${bookingBookError.message}`}\r\n            />\r\n          )}\r\n          {isBookingBookSuccess && (\r\n            <SuccessAlert\r\n              className=\"w-full\"\r\n              secondaryText={\"Your booking was successfully created\"}\r\n            />\r\n          )}\r\n          <div>\r\n            <Button onClick={handleSubmit} className=\"w-auto  hover:opacity-75\">\r\n              {isBookingBookLoading ? (\r\n                <div className=\"w-full h-full flex justify-center items-center\">\r\n                  <ThreeDots visible width=\"40\" height=\"20\" color=\"#000\" />\r\n                </div>\r\n              ) : (\r\n                \"Book\"\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-20\" />\r\n      </main>\r\n    </LoadPageAnimation>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { cn } from \"../../../utils/custom_functions\";\r\n\r\n//\r\nexport function SuccessAlert({ secondaryText, className, children, ...props }) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={cn(\r\n        \"bg-green-100 border-t-4 border-green-500 rounded-b-md text-green-900 px-4 py-2\",\r\n        className\r\n      )}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex text-wrap break-words\">\r\n        <div>\r\n          <p className=\"font-bold\">Yey ! all set</p>\r\n          <p className=\"text-sm text-wrap break-words\">\r\n            {secondaryText\r\n              ? secondaryText\r\n              : \"Welcome to Matols Logistics services\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ErrorAlert({ secondaryText, className, children, ...props }) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={cn(\r\n        \"bg-red-100 border-t-4 border-red-500 rounded-b-md text-red-900 px-4 py-2\",\r\n        className\r\n      )}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex\">\r\n        <div>\r\n          <p className=\"font-bold\">Oops ! Error</p>\r\n          <p className=\"text-sm\">\r\n            {secondaryText ? secondaryText : \"An error occured\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { IoLocationSharp } from \"react-icons/io5\";\r\n\r\nexport function Pickupdropoff({ pickup_dropoff_route }) {\r\n  return (\r\n    <div className=\"mb-1 border border-gray-200 p-2 rounded-md\">\r\n      <div className=\"flex flex-row items-start gap-1\">\r\n        <div>\r\n          <IoLocationSharp size={18} className=\"text-gray-400\" />\r\n        </div>\r\n        <div className=\"flex flex-col gap-1\">\r\n          <p className=\"text-sm font-bold\">\r\n            {pickup_dropoff_route.primary_text},{\" \"}\r\n            <span className=\"font-normal\">\r\n              {pickup_dropoff_route.secondary_text}\r\n            </span>\r\n          </p>\r\n          <p className=\"text-xs text-gray-400\">\r\n            {String(pickup_dropoff_route.route_detail).length > 0 && (\r\n              <span className=\"font-bold\">Message:</span>\r\n            )}{\" \"}\r\n            {pickup_dropoff_route.route_detail}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// time formater\r\nexport const TIME_FORMATER = Intl.DateTimeFormat(\"en-Za\", {\r\n  hour: \"numeric\",\r\n  minute: \"numeric\",\r\n  // second: \"numeric\",\r\n  timeZone: \"Africa/Harare\",\r\n  timeZoneName: \"short\",\r\n});\r\n\r\nexport const DATE_FORMATER = Intl.DateTimeFormat(\"en-ZA\", {\r\n  weekdays: \"long\",\r\n  year: \"numeric\",\r\n  month: \"long\",\r\n  day: \"numeric\",\r\n});\r\n","import { cn } from \"../../../utils/custom_functions\";\r\nimport { Pickupdropoff } from \"./pickup_dropoff_content\";\r\nimport { BsInfoCircle as InfoIcon } from \"react-icons/bs\";\r\nimport { Tooltip } from \"flowbite-react\";\r\n\r\nimport {\r\n  AMOUNT_DUE,\r\n  BASE_AMOUNT,\r\n  LOYAL_CUSTOMER_DISCOUNT,\r\n  MID_MONTH_DISCOUNT,\r\n} from \"../../../utils/information\";\r\nimport { DATE_FORMATER, TIME_FORMATER } from \"../../../utils/formaters\";\r\n\r\nexport function BookingDetailsContent({ booking }) {\r\n  return (\r\n    <table className=\"table-auto border border-gray-200 mt-4 w-full border-separate border-spacing-0 rounded-md shadow-sm\">\r\n      <thead\r\n        className={cn(\"bg-yellow-400\", {\r\n          \"bg-red-500\": booking?.booking_canceled,\r\n          \"bg-gray-200\": booking?.booking_completed,\r\n        })}\r\n      >\r\n        <tr>\r\n          <th className=\"rounded-ss-md text-start px-4 py-3\">Description</th>\r\n          <th className=\"rounded-tr-md text-start px-4 py-3\">Details</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          {/* {`${DATE_FORMATER.format(\r\n            new Date(`${booking?.booking_date}`)\r\n          )}`} */}\r\n          <td className=\"px-4 py-3 text-sm\">Booking date</td>\r\n          <td className=\"px-4 py-3 text-sm\">\r\n            {booking?.booking_date}\r\n            {/* {`${DATE_FORMATER.format(new Date(`${booking?.booking_date}`))}`} */}\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td className=\"px-4 py-3 text-sm\">Booking time</td>\r\n          <td className=\"px-4 py-3 text-sm\">\r\n            {booking?.booking_time}\r\n            {/* {`${TIME_FORMATER.format(\r\n              new Date(`${booking?.booking_date} ${booking?.booking_time}`)\r\n            )}`}{\" \"} */}\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td className=\"px-4 py-3 text-sm\">Vehicle type</td>\r\n          <td className=\"px-4 py-3 text-sm\">{booking?.vehicle_type} Ton</td>\r\n        </tr>\r\n        <tr>\r\n          <td className=\"px-4 py-3 text-sm\">Helpers</td>\r\n          <td className=\"px-4 py-3 text-sm\">{booking?.helpers}</td>\r\n        </tr>\r\n        <tr>\r\n          <td className=\"px-4 py-3 text-sm\">Floors</td>\r\n          <td className=\"px-4 py-3 text-sm\">{booking?.floors}</td>\r\n        </tr>\r\n        <tr>\r\n          <td className=\"px-4 py-3 text-sm\">Payment option</td>\r\n          <td className=\"px-4 py-3 text-sm\">{booking?.payment_option}</td>\r\n        </tr>\r\n        <tr>\r\n          <td colSpan={2} className=\"px-4 py-3 text-sm border-t\">\r\n            <div>\r\n              <div className=\"py-2 w-full flex justify-center\">\r\n                <span className=\"text-sm font-extrabold text-slate-800\">\r\n                  PICK UP AND DROPOFF LOCATIONS\r\n                </span>\r\n              </div>\r\n              <div className=\"mt-1\">\r\n                {booking?.pickup_dropoff_routes.map(\r\n                  (pickup_dropoff_routes, i) => {\r\n                    return (\r\n                      <Pickupdropoff\r\n                        key={i}\r\n                        pickup_dropoff_route={pickup_dropoff_routes}\r\n                      />\r\n                    );\r\n                  }\r\n                )}\r\n              </div>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td className=\"px-4 py-3 text-sm border-t flex flex-row justify-start items-center gap-2\">\r\n            Base price{\" \"}\r\n            <Tooltip content={BASE_AMOUNT} placement=\"top\" trigger=\"click\">\r\n              <InfoIcon className=\"text-yellow-500 hover:opacity-75\" />\r\n            </Tooltip>\r\n          </td>\r\n          <td className=\"px-4 py-3 text-sm border-t\">\r\n            R {booking?.base_amount}{\" \"}\r\n          </td>\r\n        </tr>\r\n        <tr className=\"border-b text-red-500\">\r\n          <td className=\"px-4 py-3 text-sm flex flex-row justify-start items-center gap-2\">\r\n            Mid month discount{\" \"}\r\n            <Tooltip\r\n              content={MID_MONTH_DISCOUNT}\r\n              placement=\"top\"\r\n              trigger=\"click\"\r\n            >\r\n              <InfoIcon className=\"text-yellow-500 hover:opacity-75\" />\r\n            </Tooltip>\r\n          </td>\r\n          <td className=\"px-4 py-3 text-sm\">\r\n            - R {booking?.mid_month_discount}{\" \"}\r\n          </td>\r\n        </tr>\r\n        <tr className=\"border-b text-red-500 \">\r\n          <td className=\"px-4 py-3 text-sm flex flex-row justify-start items-center gap-2\">\r\n            Loyal customer discount\r\n            <Tooltip\r\n              content={LOYAL_CUSTOMER_DISCOUNT}\r\n              placement=\"top\"\r\n              trigger=\"click\"\r\n            >\r\n              <InfoIcon className=\"text-yellow-500 hover:opacity-75\" />\r\n            </Tooltip>\r\n          </td>\r\n          <td className=\"px-4 py-3 text-sm\">\r\n            - R {booking?.loyal_customer_discount}{\" \"}\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td className=\"px-4 py-3 text-lg border-t font-extrabold flex flex-row justify-start items-center gap-2\">\r\n            Amount due\r\n            <Tooltip content={AMOUNT_DUE} placement=\"top\" trigger=\"click\">\r\n              <InfoIcon className=\"text-yellow-500 hover:opacity-75 text-sm\" />\r\n            </Tooltip>\r\n          </td>\r\n          <td className=\"px-4 py-3 text-lg border-t font-extrabold\">\r\n            R {booking?.amount_due_customer}{\" \"}\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n","// import { PricingContent } from \"./booking_content/booking_pricing_content\";\r\nimport { BookingDetailsContent } from \"./booking_content/booking_details_content\";\r\nimport { cn } from \"../../utils/custom_functions\";\r\n\r\nexport function BookingCard({ booking, ...props }) {\r\n  // console.log(booking);\r\n  return (\r\n    <div className=\"rounded-md pb-6\">\r\n      <h2\r\n        className={cn(\"text-start text-slate-800 px-2 font-extrabold text-lg\", {\r\n          \"text-red-500\": booking?.booking_canceled,\r\n          \"text-gray-200\": booking?.booking_completed,\r\n        })}\r\n      >\r\n        {booking?.id > 0 && <div className=\"pt-2\" />}\r\n        {booking?.id > 0 && <span>Invoice {booking?.id}</span>}\r\n\r\n        {booking?.booking_canceled && (\r\n          <p className=\"text-red-500 text-sm\">Booking canceled</p>\r\n        )}\r\n        {booking?.booking_completed && (\r\n          <p className=\"text-gray-200 text-sm\">Booking Completed</p>\r\n        )}\r\n      </h2>\r\n      {/*Booking content card*/}\r\n      <BookingDetailsContent booking={booking} />\r\n      {/* <div className=\"py-1\" /> */}\r\n      {/*Booking content card*/}\r\n      {/*Edit booking*/}\r\n      {props.children}\r\n      {/*Edit booking*/}\r\n    </div>\r\n  );\r\n}\r\n","export const PAGES_VARIANT = {\r\n  hidden: {\r\n    opacity: 0,\r\n  },\r\n  visible: {\r\n    opacity: 1,\r\n  },\r\n  exit: {\r\n    opacity: 0,\r\n  },\r\n};\r\n\r\nexport const SECTION_VARIANT = {\r\n  hidden: {\r\n    opacity: 0,\r\n    y: \"10px\",\r\n  },\r\n  visible: {\r\n    opacity: 1,\r\n    y: 0,\r\n  },\r\n};\r\n","import { motion } from \"framer-motion\";\r\nimport { PAGES_VARIANT } from \"../../utils/animation_variants\";\r\nimport {\r\n  SECTION_ANIMATION_DELAY,\r\n  SECTION_ANIMATION_DURATION,\r\n} from \"../../utils/information\";\r\n\r\nexport function LoadPageAnimation({ children, ...props }) {\r\n  return (\r\n    <motion.section\r\n      variants={PAGES_VARIANT}\r\n      animate=\"visible\"\r\n      initial=\"hidden\"\r\n      exit=\"exit\"\r\n      transition={{\r\n        duration: SECTION_ANIMATION_DURATION,\r\n        delay: SECTION_ANIMATION_DELAY,\r\n      }}\r\n    >\r\n      {children}\r\n    </motion.section>\r\n  );\r\n}\r\n","import { ThreeDots } from \"react-loader-spinner\";\r\n\r\nexport function LoadingComponent({ secondary_text }) {\r\n  return (\r\n    <div className=\"m-auto max-w-4xl flex flex-col justify-center items-center py-48 my-2 gap-4\">\r\n      <div className=\"flex flex-col justify-center items-center gap-4\">\r\n        <span className=\"text-3xl font-bold\">Please be patient</span>\r\n        <span className=\"text-xl\">{secondary_text}</span>\r\n      </div>\r\n      <ThreeDots visible width=\"40\" height=\"20\" color=\"#000\" />\r\n    </div>\r\n  );\r\n}\r\n","import { useLocalStorage } from \"./use_local_storage\";\r\n\r\nexport function useCreateBookingLocalStorage(key) {\r\n  const {\r\n    setItem,\r\n    getItem: getCreateBookingObj,\r\n    removeItem: removeCreatedBookingObj,\r\n  } = useLocalStorage(key);\r\n\r\n  // save to local storge\r\n  const setCreateBookingObj = (data) => {\r\n    try {\r\n      const item = window.localStorage.getItem(key);\r\n      if (item) {\r\n        const parsedData = JSON.parse(item);\r\n        const newData = { ...parsedData, ...data };\r\n        setItem(newData);\r\n        return;\r\n      }\r\n      // otherwise\r\n      setItem(data);\r\n    } catch (error) {}\r\n  };\r\n\r\n  return { setCreateBookingObj, getCreateBookingObj, removeCreatedBookingObj };\r\n}\r\n","import { useCallback, useEffect, useRef } from \"react\";\r\n\r\nexport function useTimeout(callback, delay) {\r\n  const callBackRef = useRef(callback);\r\n  const timeOutRef = useRef();\r\n\r\n  useEffect(() => {\r\n    callBackRef.current = callback;\r\n  }, [callback]);\r\n\r\n  const set = useCallback(() => {\r\n    timeOutRef.current = setTimeout(() => callBackRef.current(), delay);\r\n  }, [delay]);\r\n\r\n  const resetCallBack = (newCallBack) => {\r\n    timeOutRef.current = setTimeout(() => newCallBack(), delay);\r\n  };\r\n\r\n  return { set, resetCallBack };\r\n}\r\n"],"names":["CreateBooking","receivedError401","setReceivedError401","useState","set","useTimeout","window","location","href","ROUTE_LINKS","bookings","_","getCreateBookingObj","useCreateBookingLocalStorage","LOCAL_STORAGE_KEYS","create_booking","isLoading","isBookingBookLoading","isSuccess","isBookingBookSuccess","mutateAsync","bookingBookAsync","isError","isBookingBookError","error","bookingBookError","useMutation","mutationKey","mutationFn","createBookingFunction","onError","e","console","log","response","status","onSuccess","s","data","quote","isComputingQuote","mutate","computingQuote","isComputingQuoteError","computingQuoteError","computeQuoteFunction","useEffect","localBooking","_jsx","ErrorAlert","secondaryText","concat","LoadingComponent","secondary_text","LoadPageAnimation","children","_jsxs","className","BookingCard","booking","message","SuccessAlert","Button","onClick","async","ThreeDots","visible","width","height","color","_ref","props","cn","role","_ref2","Pickupdropoff","pickup_dropoff_route","IoLocationSharp","size","primary_text","String","route_detail","length","Intl","DateTimeFormat","hour","minute","timeZone","timeZoneName","weekdays","year","month","day","BookingDetailsContent","booking_canceled","booking_completed","booking_date","booking_time","vehicle_type","helpers","floors","payment_option","colSpan","pickup_dropoff_routes","map","i","Tooltip","content","BASE_AMOUNT","placement","trigger","InfoIcon","base_amount","MID_MONTH_DISCOUNT","mid_month_discount","LOYAL_CUSTOMER_DISCOUNT","loyal_customer_discount","AMOUNT_DUE","amount_due_customer","id","PAGES_VARIANT","hidden","opacity","exit","motion","section","variants","animate","initial","transition","duration","SECTION_ANIMATION_DURATION","delay","SECTION_ANIMATION_DELAY","key","setItem","getItem","removeItem","removeCreatedBookingObj","useLocalStorage","setCreateBookingObj","item","localStorage","newData","JSON","parse","callback","callBackRef","useRef","timeOutRef","current","useCallback","setTimeout","resetCallBack","newCallBack"],"sourceRoot":""}
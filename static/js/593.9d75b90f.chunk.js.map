{"version":3,"file":"static/js/593.9d75b90f.chunk.js","mappings":"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","sources":["components/pages/sign_in.jsx","components/reusable_components/alerts/alerts.jsx","utils/animation_variants.jsx","components/reusable_components/load_page_animation.jsx","utils/hooks/use_time_out.jsx"],"sourcesContent":["import { useForm } from \"react-hook-form\";\r\nimport { useMutation } from \"react-query\";\r\nimport { FaRegEyeSlash, FaRegEye } from \"react-icons/fa6\";\r\nimport { ThreeDots } from \"react-loader-spinner\";\r\n// import jwt_decode from \"jwt-decode\";\r\n\r\n// api\r\nimport { signInFunction } from \"../../api/api\";\r\nimport { useState } from \"react\";\r\nimport { Button } from \"../reusable_components/custom_button\";\r\nimport { useLocalStorage } from \"../../utils/hooks/use_local_storage\";\r\nimport { LOCAL_STORAGE_KEYS } from \"../../utils/local_storage_keys\";\r\nimport { ErrorAlert, SuccessAlert } from \"../reusable_components/alerts/alerts\";\r\nimport { cn } from \"../../utils/custom_functions\";\r\nimport { useDecodeJwt } from \"../../utils/hooks/use_decode_jwt\";\r\nimport { ROUTE_LINKS } from \"../../utils/route_links\";\r\nimport { useTimeout } from \"../../utils/hooks/use_time_out\";\r\nimport { LoadPageAnimation } from \"../reusable_components/load_page_animation\";\r\n\r\nexport default function Signin() {\r\n  const [isPasswordVisible, setIspasswordVisible] = useState(false);\r\n  const { setItem } = useLocalStorage(LOCAL_STORAGE_KEYS.tokens);\r\n  const { decodedJwt, setJwtToken } = useDecodeJwt();\r\n  const [disableUserInterface, setDisableUserInterface] = useState(false);\r\n  const { set } = useTimeout(\r\n    () => (window.location.href = ROUTE_LINKS.home),\r\n    5000\r\n  );\r\n\r\n  // hooks\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: {\r\n      isLoading: isFormLoading,\r\n      errors,\r\n      //  isSubmitting\r\n    },\r\n  } = useForm();\r\n\r\n  const {\r\n    isLoading: isRequestLoading,\r\n    isSuccess,\r\n    mutateAsync: signInAsync,\r\n    isError,\r\n    error,\r\n  } = useMutation(\"signin\", {\r\n    mutationFn: signInFunction,\r\n    onSuccess: (data) => {\r\n      setItem(data);\r\n      setJwtToken(data.access);\r\n      setDisableUserInterface((p) => true);\r\n      set();\r\n    },\r\n    onMutate: (value) => {\r\n      setDisableUserInterface((p) => true);\r\n    },\r\n    onError: (e) => {\r\n      setDisableUserInterface((p) => false);\r\n    },\r\n  });\r\n\r\n  // submit hander\r\n  const submitHander = async (data) => {\r\n    try {\r\n      await signInAsync(data);\r\n    } catch (error) {\r\n      // console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <LoadPageAnimation>\r\n      <main className=\"max-w-xl mx-auto p-6 my-6 text-black bg-white\">\r\n        <div className=\"rounded-md p-4 shadow-sm border border-gray-200\">\r\n          <h2 className=\"text-start text-black pb-6 px-2 font-extrabold text-3xl\">\r\n            Welcome back\r\n            <p className=\"text-sm font-normal text-slate-600 pt-2\">\r\n              Trust matols logistics services to transport your items safely.\r\n              Dont have an account ?{\" \"}\r\n              <a\r\n                href={ROUTE_LINKS.register}\r\n                className=\"text-yellow-400 font-bold hover:opacity-75\"\r\n              >\r\n                Register\r\n              </a>\r\n              .\r\n            </p>\r\n          </h2>\r\n          <form className=\"px-2\" onSubmit={handleSubmit(submitHander)}>\r\n            <div className=\"rounded-md shadow-sm\">\r\n              <input\r\n                {...register(\"email\", {\r\n                  required: \"Email address required\",\r\n                  disabled: disableUserInterface,\r\n                })}\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"matols@gmail.com\"\r\n                className={cn(\r\n                  \"text-sm text-slate-800  w-full relative shadow-sm block rounded-t-md border-gray-200 focus:z-10 focus:ring-yellow-400 focus:border-yellow-400 disabled:opacity-75 disabled:pointer-events-none\",\r\n                  {\r\n                    \"text-slate-800 placeholder:text-slate-800 bg-red-100\":\r\n                      errors.email,\r\n                  }\r\n                )}\r\n              />\r\n\r\n              <div className=\"relative\">\r\n                <input\r\n                  {...register(\"password\", {\r\n                    required: \"Password required\",\r\n                    disabled: disableUserInterface,\r\n                  })}\r\n                  type={isPasswordVisible ? \"text\" : \"password\"}\r\n                  name=\"password\"\r\n                  placeholder=\"Enter password\"\r\n                  className={cn(\r\n                    \"peer text-sm pe-9 text-slate-800 w-full shadow-sm relative block rounded-b-md border-gray-200 focus:z-10 focus:ring-yellow-400 focus:border-yellow-400 disabled:opacity-75 disabled:pointer-events-none\",\r\n                    {\r\n                      \" text-slate-800 placeholder:text-slate-800 bg-red-100\":\r\n                        errors.password,\r\n                    }\r\n                  )}\r\n                />\r\n                <div className=\"peer-focus:z-10 absolute inset-y-0 right-0 px-3 flex justify-center items-center\">\r\n                  <div onClick={() => setIspasswordVisible((r) => !r)}>\r\n                    {!isPasswordVisible ? (\r\n                      <FaRegEyeSlash\r\n                        className=\"text-yellow-400 cursor-pointer hover:opacity-75\"\r\n                        size={20}\r\n                      />\r\n                    ) : (\r\n                      <FaRegEye\r\n                        className=\"text-yellow-400 cursor-pointer hover:opacity-75\"\r\n                        size={20}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {errors.email && (\r\n              <p className=\"pt-2 text-red-500 text-sm italic\">\r\n                {errors.email.message}\r\n              </p>\r\n            )}\r\n            {errors.password && (\r\n              <p className=\"pt-2 text-red-500 text-sm italic\">\r\n                {errors.password.message}\r\n              </p>\r\n            )}\r\n            <div className=\"w-full text-end py-4\">\r\n              <a\r\n                href={ROUTE_LINKS.requestpasswordreset}\r\n                className=\"text-yellow-400 text-sm font-bold hover:opacity-75\"\r\n              >\r\n                Forgot password?\r\n              </a>\r\n            </div>\r\n            {/*Network error and success alerts*/}\r\n            {isError && (\r\n              <ErrorAlert\r\n                className=\"mb-4\"\r\n                secondaryText={`${error.response.data.message} ${error.message}`}\r\n              />\r\n            )}\r\n            {isSuccess && (\r\n              <SuccessAlert\r\n                secondaryText={`Welcome back matols Logistics services ${decodedJwt.user_first_name} ${decodedJwt.user_surname}`}\r\n                className=\"mb-4\"\r\n              />\r\n            )}\r\n            {/**/}\r\n            <Button\r\n              className=\"rounded-md text-base shadow-sm hover:opacity-75\"\r\n              type=\"submit\"\r\n              disabled={disableUserInterface}\r\n            >\r\n              {isRequestLoading || isFormLoading ? (\r\n                <div className=\"w-full h-full flex justify-center items-center\">\r\n                  <ThreeDots visible width=\"40\" height=\"20\" color=\"#000\" />\r\n                </div>\r\n              ) : (\r\n                \"Sign in to your account\"\r\n              )}\r\n            </Button>\r\n          </form>\r\n        </div>\r\n        <div className=\"mb-20\" />\r\n      </main>\r\n    </LoadPageAnimation>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { cn } from \"../../../utils/custom_functions\";\r\n\r\n//\r\nexport function SuccessAlert({ secondaryText, className, children, ...props }) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={cn(\r\n        \"bg-green-100 border-t-4 border-green-500 rounded-b-md text-green-900 px-4 py-2\",\r\n        className\r\n      )}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex text-wrap break-words\">\r\n        <div>\r\n          <p className=\"font-bold\">Yey ! all set</p>\r\n          <p className=\"text-sm text-wrap break-words\">\r\n            {secondaryText\r\n              ? secondaryText\r\n              : \"Welcome to Matols Logistics services\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ErrorAlert({ secondaryText, className, children, ...props }) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={cn(\r\n        \"bg-red-100 border-t-4 border-red-500 rounded-b-md text-red-900 px-4 py-2\",\r\n        className\r\n      )}\r\n      role=\"alert\"\r\n    >\r\n      <div className=\"flex\">\r\n        <div>\r\n          <p className=\"font-bold\">Oops ! Error</p>\r\n          <p className=\"text-sm\">\r\n            {secondaryText ? secondaryText : \"An error occured\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const PAGES_VARIANT = {\r\n  hidden: {\r\n    opacity: 0,\r\n  },\r\n  visible: {\r\n    opacity: 1,\r\n  },\r\n  exit: {\r\n    opacity: 0,\r\n  },\r\n};\r\n\r\nexport const SECTION_VARIANT = {\r\n  hidden: {\r\n    opacity: 0,\r\n    y: \"10px\",\r\n  },\r\n  visible: {\r\n    opacity: 1,\r\n    y: 0,\r\n  },\r\n};\r\n","import { motion } from \"framer-motion\";\r\nimport { PAGES_VARIANT } from \"../../utils/animation_variants\";\r\nimport {\r\n  SECTION_ANIMATION_DELAY,\r\n  SECTION_ANIMATION_DURATION,\r\n} from \"../../utils/information\";\r\n\r\nexport function LoadPageAnimation({ children, ...props }) {\r\n  return (\r\n    <motion.section\r\n      variants={PAGES_VARIANT}\r\n      animate=\"visible\"\r\n      initial=\"hidden\"\r\n      exit=\"exit\"\r\n      transition={{\r\n        duration: SECTION_ANIMATION_DURATION,\r\n        delay: SECTION_ANIMATION_DELAY,\r\n      }}\r\n    >\r\n      {children}\r\n    </motion.section>\r\n  );\r\n}\r\n","import { useCallback, useEffect, useRef } from \"react\";\r\n\r\nexport function useTimeout(callback, delay) {\r\n  const callBackRef = useRef(callback);\r\n  const timeOutRef = useRef();\r\n\r\n  useEffect(() => {\r\n    callBackRef.current = callback;\r\n  }, [callback]);\r\n\r\n  const set = useCallback(() => {\r\n    timeOutRef.current = setTimeout(() => callBackRef.current(), delay);\r\n  }, [delay]);\r\n\r\n  const resetCallBack = (newCallBack) => {\r\n    timeOutRef.current = setTimeout(() => newCallBack(), delay);\r\n  };\r\n\r\n  return { set, resetCallBack };\r\n}\r\n"],"names":["Signin","isPasswordVisible","setIspasswordVisible","useState","setItem","useLocalStorage","LOCAL_STORAGE_KEYS","tokens","decodedJwt","setJwtToken","useDecodeJwt","disableUserInterface","setDisableUserInterface","set","useTimeout","window","location","href","ROUTE_LINKS","home","register","handleSubmit","formState","isLoading","isFormLoading","errors","useForm","isRequestLoading","isSuccess","mutateAsync","signInAsync","isError","error","useMutation","mutationFn","signInFunction","onSuccess","data","access","p","onMutate","value","onError","e","_jsx","LoadPageAnimation","children","_jsxs","className","onSubmit","async","required","disabled","type","name","placeholder","cn","email","password","onClick","r","FaRegEye","size","FaRegEyeSlash","message","requestpasswordreset","ErrorAlert","secondaryText","concat","response","SuccessAlert","user_first_name","user_surname","Button","ThreeDots","visible","width","height","color","_ref","props","role","_ref2","PAGES_VARIANT","hidden","opacity","exit","motion","section","variants","animate","initial","transition","duration","SECTION_ANIMATION_DURATION","delay","SECTION_ANIMATION_DELAY","callback","callBackRef","useRef","timeOutRef","useEffect","current","useCallback","setTimeout","resetCallBack","newCallBack"],"sourceRoot":""}